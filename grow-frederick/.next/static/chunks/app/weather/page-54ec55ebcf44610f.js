(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2085],{51689:function(e,t,r){Promise.resolve().then(r.bind(r,50812))},50812:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n},dynamic:function(){return i}});var a=r(57437),s=r(2265);let i="force-dynamic";function n(){let[e,t]=(0,s.useState)(null),[r,i]=(0,s.useState)([]),[n,l]=(0,s.useState)(null),[d,o]=(0,s.useState)("Frederick, MD"),[c,m]=(0,s.useState)(!0),[h,x]=(0,s.useState)("");(0,s.useEffect)(()=>{u()},[]);let u=async()=>{m(!0),x("");try{let e=await p();l(e),await g(e.lat,e.lon),await j(e.lat,e.lon)}catch(e){console.error("Weather error:",e),x(e.message||"Unable to load weather"),m(!1)}},p=()=>new Promise(e=>{if(!navigator.geolocation){e({lat:39.4143,lon:-77.4105});return}let t=setTimeout(()=>{e({lat:39.4143,lon:-77.4105})},5e3);navigator.geolocation.getCurrentPosition(r=>{clearTimeout(t),e({lat:r.coords.latitude,lon:r.coords.longitude})},()=>{clearTimeout(t),e({lat:39.4143,lon:-77.4105})},{timeout:5e3})}),g=async(e,t)=>{try{let r=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t));if(r.ok){let e=await r.json(),t=e.address.city||e.address.town||e.address.county||"Unknown",a=e.address.state||"";o("".concat(t).concat(a?", "+a:""))}}catch(e){console.error("Geocoding error:",e)}},j=async(e,r)=>{try{let a="https://api.open-meteo.com/v1/forecast?latitude=".concat(e,"&longitude=").concat(r,"&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=fahrenheit&wind_speed_unit=mph&timezone=auto&forecast_days=6"),s=await fetch(a);if(!s.ok)throw Error("Weather API request failed");let n=await s.json(),l={temperature:Math.round(n.current.temperature_2m),feelsLike:Math.round(n.current.apparent_temperature),humidity:n.current.relative_humidity_2m,windSpeed:Math.round(n.current.wind_speed_10m),weatherCode:n.current.weather_code,description:w(n.current.weather_code),icon:y(n.current.weather_code)};t(l);let d=[];for(let e=1;e<=5;e++)d.push({date:n.daily.time[e],tempMax:Math.round(n.daily.temperature_2m_max[e]),tempMin:Math.round(n.daily.temperature_2m_min[e]),weatherCode:n.daily.weather_code[e],description:w(n.daily.weather_code[e]),icon:y(n.daily.weather_code[e])});i(d),m(!1)}catch(e){throw console.error("Weather fetch error:",e),Error("Failed to fetch weather data")}},w=e=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Foggy",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",77:"Snow grains",80:"Slight rain showers",81:"Moderate rain showers",82:"Violent rain showers",85:"Slight snow showers",86:"Heavy snow showers",95:"Thunderstorm",96:"Thunderstorm with slight hail",99:"Thunderstorm with heavy hail"})[e]||"Unknown",y=e=>0===e||1===e?"☀️":2===e?"⛅":3===e?"☁️":e>=45&&e<=48?"\uD83C\uDF2B️":e>=51&&e<=55?"\uD83C\uDF26️":e>=61&&e<=65?"\uD83C\uDF27️":e>=71&&e<=77?"❄️":e>=80&&e<=82?"\uD83C\uDF27️":e>=85&&e<=86?"\uD83C\uDF28️":e>=95&&e<=99?"⛈️":"\uD83C\uDF24️";return c?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"text-6xl mb-4 animate-pulse",children:"\uD83C\uDF24️"}),(0,a.jsx)("p",{className:"text-xl",children:"Loading weather data..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Using Open-Meteo (free weather API)"})]})}):h||!e?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center py-16 bg-red-50 dark:bg-red-900/20 rounded-lg p-8",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,a.jsx)("p",{className:"text-xl text-red-600 dark:text-red-400 mb-4",children:h||"Unable to load weather data"}),(0,a.jsx)("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Weather"}),(0,a.jsxs)("button",{onClick:u,className:"text-blue-600 hover:text-blue-700 font-semibold flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDD04"})," Refresh"]})]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:["\uD83D\uDCCD ",d]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-lg p-8 mb-8 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-7xl font-bold mb-2",children:[e.temperature,"\xb0F"]}),(0,a.jsx)("div",{className:"text-2xl capitalize mb-2",children:e.description}),(0,a.jsxs)("div",{className:"text-lg mb-2",children:["Feels like ",e.feelsLike,"\xb0F"]})]}),(0,a.jsx)("div",{className:"text-8xl",children:e.icon})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-6 border-t border-white/20",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm opacity-80",children:"Humidity"}),(0,a.jsxs)("div",{className:"text-2xl font-semibold",children:[e.humidity,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm opacity-80",children:"Wind Speed"}),(0,a.jsxs)("div",{className:"text-2xl font-semibold",children:[e.windSpeed," mph"]})]})]}),(0,a.jsxs)("div",{className:"mt-4 text-xs opacity-70",children:["Last updated: ",new Date().toLocaleTimeString()," • Powered by Open-Meteo"]})]}),r.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"5-Day Forecast"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 transition",children:[(0,a.jsx)("div",{className:"font-semibold mb-2",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,a.jsx)("div",{className:"text-5xl mb-2",children:e.icon}),(0,a.jsxs)("div",{className:"text-xl font-bold mb-1",children:[e.tempMax,"\xb0F"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize mb-2",children:e.description}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Low: ",e.tempMin,"\xb0F"]})]},t))})]}),(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border-2 border-green-500 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-3",children:"\uD83C\uDF31 Gardening Tips for Today"}),(0,a.jsxs)("ul",{className:"space-y-3",children:[e.temperature>85&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDF21️"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:["High temperature (",e.temperature,"\xb0F)"]})," - Water plants early morning or evening to prevent evaporation. Mulch to retain moisture."]})]}),e.temperature<40&&e.temperature>=32&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"❄️"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:["Cold weather (",e.temperature,"\xb0F)"]})," - Cover sensitive plants tonight. Harvest remaining cool-season crops."]})]}),e.temperature<32&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83E\uDDCA"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:["FREEZING (",e.temperature,"\xb0F)"]})," - Bring containers indoors immediately. Cover garden beds with frost cloth. Drain hoses."]})]}),e.humidity>70&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDCA7"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:["High humidity (",e.humidity,"%)"]})," - Watch for fungal diseases like powdery mildew. Ensure good air circulation around plants."]})]}),e.windSpeed>15&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDCA8"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:["Windy conditions (",e.windSpeed," mph)"]})," - Stake tall plants. Secure loose items in the garden."]})]}),e.weatherCode>=61&&e.weatherCode<=82&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDF27️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Rain expected"})," - Skip watering today. Check drainage in low spots. Good time to plan indoor gardening tasks."]})]}),e.weatherCode<=2&&e.temperature>=60&&e.temperature<=80&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"☀️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Perfect gardening weather!"})," - Ideal conditions for planting, pruning, and general garden maintenance."]})]}),r.length>0&&r[0].tempMin<32&&(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"⚠️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Frost warning tomorrow"})," - Low of ",r[0].tempMin,"\xb0F expected. Protect tender plants tonight."]})]})]})]})]})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=51689)}),_N_E=e.O()}]);